{"version":3,"sources":["components/Text.jsx","components/FlexDiv.jsx","components/Container.jsx","components/Table.jsx","components/PlaybackBar.jsx","components/MarginDiv.jsx","components/Footer.jsx","components/NavDiv.jsx","components/Keys.jsx","contexts/GraphData.jsx","components/LineGraph.jsx","components/ContentContainer.jsx","components/BackgroundContainer.jsx","App.jsx","index.js"],"names":["Text","styled","p","props","weight","size","FlexDiv","div","Container","Table","TableRow","PlaybackBar","input","attrs","type","MarginDiv","nav","FooterDiv","height","NavDiv","children","Keys","Key","keyDown","GraphDataContext","createContext","useGraphData","useContext","GraphContextProvider","data","startTime","Date","now","clicks","avg_accuracy","avg_unstable_rate","avg_bpm","useState","graphData","setGraphData","Provider","value","LineGraph","console","log","labels","map","e","time","datasets","label","fill","lineTension","borderColor","style","gridArea","options","maintainAspectRatio","elements","point","radius","ContentContainer","BackgroundContainer","Options","Canvas","App","mapInProgress","key1State","setKey1State","key2State","setKey2State","keyIsDown1","setKeyDown1","keyIsDown2","setKeyDown2","keyPress","ekey","down","gd","updatedClicks","downClicks","filter","c","pressed","length","updatedAvgBpm","Math","round","updateData","ks","keyPressHandle","key","id","toLowerCase","useEffect","document","addEventListener","removeEventListener","Footer","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c01fdf69.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nconst Text = styled.p`\r\n    font-family: 'Roboto';\r\n    font-weight: ${props => props.weight ? props.weight : 'normal'};\r\n    font-size: ${props => props.size ? props.size : 'normal'};\r\n    color: white;\r\n`\r\n\r\nexport default Text;","import styled from 'styled-components';\r\n\r\nconst FlexDiv = styled.div`\r\n    display: flex;\r\n`\r\n\r\nexport default FlexDiv;","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\n\r\nconst Container = styled(FlexDiv)`\r\n    background-color: #26304F;\r\n    border-radius: 8px;\r\n`;\r\n\r\nexport default Container;","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\n\r\n// Scores\r\nconst Table = styled(FlexDiv)`\r\n  display: block;\r\n  flex-direction: column;\r\n  overflow: scroll;;\r\n  overflow-x: hidden;\r\n  align-items: center;\r\n  margin: 0px 50px 0px 50px;\r\n  margin-top: 35px;\r\n  min-height: 300px;\r\n  grid-area: s;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 18px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background: #425FB0;\r\n    border-radius: 9px;\r\n  }\r\n`;\r\n\r\nconst TableRow = styled(FlexDiv)`\r\n  background: #26304F;\r\n  margin: 0 10px 6px 0;\r\n  border-radius: 9px;\r\n  height: 46px;\r\n\r\n  &:hover {\r\n    background: #2c3757;\r\n    transition: all .2s ease-in-out;\r\n    transform: scale(1.004);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport { Table, TableRow };\r\n","import styled from 'styled-components';\r\n\r\n// Playback bar\r\nconst PlaybackBar = styled.input.attrs({\r\n    type: 'range',\r\n  })`\r\n    margin: 0px 50px 0px 50px;\r\n    grid-area: p;\r\n  `;\r\n\r\nexport default PlaybackBar;","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\n\r\nconst MarginDiv = styled(FlexDiv)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #192035;\r\n  width: 100%;\r\n  height: ${props => props.nav ? \"80px\" : \"50px\"};\r\n  margin-bottom: ${props => props.nav ? \"30px\" : \"\"};\r\n`;\r\n\r\nexport default MarginDiv;\r\n\r\n","import MarginDiv from './MarginDiv';\r\n\r\n\r\nconst FooterDiv = () => {\r\n    return <MarginDiv height={\"50px\"}/>\r\n}\r\n\r\nexport default FooterDiv;","import MarginDiv from './MarginDiv';\r\n\r\n\r\nconst NavDiv = (props) => {\r\n    return <MarginDiv nav>{props.children}</MarginDiv>\r\n}\r\n\r\nexport default NavDiv;\r\n\r\n","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\nimport Container from './Container';\r\n\r\n// Keys\r\nconst Keys = styled(FlexDiv)`\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  margin-left: -35px;\r\n  grid-area: k;\r\n`;\r\n\r\nconst Key = styled(Container)`\r\n  background-color: ${props => props.keyDown ? \"#667293\" : \"#4e5874\"};\r\n  transform: ${props => props.keyDown ? \"scale(1.04)\" : \"scale(1)\"};\r\n  color: ${props => props.keyDown ? \"#26304F\" : \"#7783a3\"};\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: 'Roboto';\r\n  font-size: 3em;\r\n  width: 140px;\r\n  height: 140px;\r\n  transition: all .05s ease-in-out;\r\n`\r\n\r\nexport { Keys, Key };","import { useContext, createContext, useState } from 'react';\r\n\r\nexport const GraphDataContext = createContext();\r\n\r\nexport const useGraphData = () => {\r\n    return useContext(GraphDataContext);\r\n}\r\n\r\nexport const GraphContextProvider = ({children}) => {\r\n\r\n    const data = {\r\n        startTime: Date.now(),\r\n        clicks: [],\r\n        avg_accuracy: [],\r\n        avg_unstable_rate: [],\r\n        avg_bpm: []\r\n    };\r\n\r\n    const [graphData, setGraphData] = useState(data);\r\n\r\n    return <GraphDataContext.Provider value={{graphData, setGraphData}}>{children}</GraphDataContext.Provider>;\r\n}","import { Line } from 'react-chartjs-2';\r\nimport Container from './Container';\r\nimport { useGraphData } from '../contexts/GraphData';\r\n\r\n\r\nconst LineGraph = (props) => {\r\n\r\n    const {graphData, setGraphData} = useGraphData();\r\n    console.log(graphData)\r\n    const data = {\r\n    labels: graphData.clicks.map(e => e.time),\r\n    datasets: [\r\n    {\r\n        label: 'Accuracy',\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderColor: '#ff0000',\r\n        data: []\r\n    },\r\n    {\r\n        label: 'Unstable Rate',\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderColor: '#94D210',\r\n        data: []\r\n    },\r\n    {\r\n        label: 'Bpm',\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderColor: '#0FB6EB',\r\n        data: graphData.avg_bpm\r\n    },\r\n    ],\r\n};\r\n\r\n\r\n    return (\r\n        <Container style={{gridArea:\"g\"}}>\r\n            <Line data={data} options={{maintainAspectRatio: false, elements: { point:{ radius: 0 } }}}/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default LineGraph;","import styled from 'styled-components';\r\n\r\nconst ContentContainer = styled.div`\r\n  display: grid;\r\n  width: auto;\r\n  height: 100%;\r\n  gap: 50px;\r\n  margin: 0 50px 35px 50px;\r\n  grid-template-columns: 250px 1fr 105px;\r\n  grid-template-rows: 300px 300px;\r\n  height: 700px;\r\n  grid-template-areas: \r\n  \"o g g\"\r\n  \"c c k\";\r\n`;\r\n\r\n\r\nexport default ContentContainer;","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\n\r\n\r\nconst BackgroundContainer = styled(FlexDiv)`\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100vh;\r\n`;\r\n\r\n\r\nexport default BackgroundContainer;","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport Text from './components/Text';\r\nimport Container from './components/Container';\r\nimport { Table, TableRow } from './components/Table';\r\nimport PlaybackBar from './components/PlaybackBar';\r\nimport FooterDiv from './components/Footer';\r\nimport NavDiv from './components/NavDiv';\r\nimport { Keys, Key } from './components/Keys';\r\nimport LineGraph from './components/LineGraph';\r\nimport ContentContainer from './components/ContentContainer';\r\nimport BackgroundContainer from './components/BackgroundContainer';\r\nimport { useGraphData } from './contexts/GraphData';\r\n\r\n\r\n// Options container\r\nconst Options = styled(Container)`\r\n  grid-area: o;\r\n`;\r\n\r\n// Game container\r\nconst Canvas = styled(Container)`\r\n  grid-area: c;\r\n`;\r\n\r\n\r\nconst App = () => {\r\n  let mapInProgress = false;\r\n\r\n  // Keys\r\n  const key1 = \"q\";\r\n  const key2 = \"w\";\r\n  let keyDown = [false, false];\r\n  const {graphData, setGraphData} = useGraphData();\r\n  const [key1State, setKey1State] = useState(0);\r\n  const [key2State, setKey2State] = useState(0);\r\n  const [keyIsDown1, setKeyDown1] = useState(0);\r\n  const [keyIsDown2, setKeyDown2] = useState(0);\r\n\r\n\r\n\r\n  const updateData = (ekey, down) => {\r\n    // Set data\r\n    setGraphData(gd => {\r\n      const updatedClicks = [...gd.clicks, {\"key\": ekey, \"pressed\": down, \"time\": Date.now()}];\r\n      const downClicks = updatedClicks.filter(c => c.pressed);\r\n      if (downClicks.length == 0) return(gd);\r\n      const updatedAvgBpm = [...graphData.avg_bpm, Math.round((((downClicks.length / (downClicks[downClicks.length-1].time - gd.startTime) * 60000) / 4) * 100) / 100)];\r\n\r\n      return ({\r\n        startTime: gd.startTime,\r\n        clicks: updatedClicks,\r\n        avg_accuracy: [],\r\n        avg_unstable_rate: [],\r\n        avg_bpm: updatedAvgBpm \r\n      })\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n  const keyPress = (ekey, down) => {\r\n    if ((ekey == key1 || ekey == key2) && mapInProgress) {\r\n\r\n      // Update graph data\r\n      updateData(ekey, down);\r\n\r\n      if (ekey == key1) {\r\n        if (down) setKey1State(ks => ks + 1);\r\n        setKeyDown1(down)\r\n      } else {\r\n        if (down) setKey2State(ks => ks + 1);\r\n        setKeyDown2(down)\r\n      }\r\n   } else if (ekey == \" \" && down) {\r\n     // Start\r\n     console.log(!mapInProgress ? \"Start\" : \"Stop\")\r\n     mapInProgress = !mapInProgress;\r\n\r\n     if (mapInProgress) {\r\n      // reset data\r\n      setGraphData({\r\n        startTime: Date.now(),\r\n        clicks: [],\r\n        avg_accuracy: [],\r\n        avg_unstable_rate: [],\r\n        avg_bpm: []\r\n      })\r\n     }\r\n   }\r\n    return down;\r\n  }\r\n\r\n  const getIndex = (key) => {\r\n    if (key == key1) {\r\n      return 0;\r\n    } else if (key == key2) {\r\n      return 1;\r\n    }\r\n  }\r\n  \r\n\r\n  const keyPressHandle = (e) => {\r\n    let id = getIndex(e.key);\r\n    if (e.type == \"keydown\") {\r\n      if (keyDown[id]) return;\r\n      keyDown[id] = keyPress(e.key.toLowerCase(), true);\r\n    } else {\r\n      keyDown[id] = keyPress(e.key.toLowerCase(), false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyPressHandle, false);\r\n    document.addEventListener(\"keyup\", keyPressHandle, false);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", keyPressHandle, false);\r\n      document.removeEventListener(\"keyup\", keyPressHandle, false);\r\n    };\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <BackgroundContainer>\r\n      <NavDiv>\r\n        <Text size={\"35px\"}>osu! Rhythm practice</Text>\r\n      </NavDiv>\r\n\r\n\r\n      <ContentContainer>\r\n        <Options />\r\n        <LineGraph />\r\n        <Canvas />\r\n\r\n        <Keys>\r\n          <Key id=\"key1\" keyDown={keyIsDown1}>{key1State}</Key>\r\n          <Key id=\"key2\" keyDown={keyIsDown2}>{key2State}</Key>\r\n        </Keys>\r\n      </ContentContainer>\r\n\r\n      <PlaybackBar />\r\n\r\n      <Table>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n      </Table>\r\n\r\n\r\n      <FooterDiv>\r\n      </FooterDiv>\r\n    </BackgroundContainer>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { GraphContextProvider } from './contexts/GraphData';\nimport './index.css'\n\n\nReactDOM.render(\n  <GraphContextProvider>\n    <App />\n  </GraphContextProvider>,\n  \n  document.getElementById('root')\n);\n"],"sourceRoot":""}