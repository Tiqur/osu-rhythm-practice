(this["webpackJsonposu-rhythm-practice"]=this["webpackJsonposu-rhythm-practice"]||[]).push([[0],{159:function(t,e,n){},160:function(t,e,n){"use strict";n.r(e);var i,a,c,r,s,o,h,u,l,d,b,j,x,f=n(0),p=n(50),g=n.n(p),O=n(7),v=n(11),m=n(32),w=n(8),k=n(2),y=n(3),C=y.a.p(i||(i=Object(k.a)(["\n    font-family: 'Roboto';\n    font-weight: ",";\n    font-size: ",";\n    color: white;\n"])),(function(t){return t.weight?t.weight:"normal"}),(function(t){return t.size?t.size:"normal"})),D=y.a.div(a||(a=Object(k.a)(["\n    display: flex;\n"]))),_=Object(y.a)(D)(c||(c=Object(k.a)(["\n    background-color: #26304F;\n    border-radius: 8px;\n"]))),z=Object(y.a)(D)(r||(r=Object(k.a)(["\n  display: block;\n  flex-direction: column;\n  overflow: scroll;;\n  overflow-x: hidden;\n  align-items: center;\n  margin: 0px 50px 0px 50px;\n  margin-top: 35px;\n  min-height: 300px;\n  grid-area: s;\n\n  &::-webkit-scrollbar {\n    width: 18px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: #425FB0;\n    border-radius: 9px;\n  }\n"]))),T=Object(y.a)(D)(s||(s=Object(k.a)(["\n  background: #26304F;\n  margin: 0 10px 6px 0;\n  border-radius: 9px;\n  height: 46px;\n\n  &:hover {\n    background: #2c3757;\n    transition: all .2s ease-in-out;\n    transform: scale(1.004);\n    cursor: pointer;\n  }\n"]))),L=y.a.input.attrs({type:"range"})(o||(o=Object(k.a)(["\n    margin: 0px 50px 0px 50px;\n    grid-area: p;\n  "]))),P=Object(y.a)(D)(h||(h=Object(k.a)(["\n  justify-content: center;\n  align-items: center;\n  background-color: #192035;\n  width: 100%;\n  height: ",";\n  margin-bottom: ",";\n"])),(function(t){return t.nav?"80px":"50px"}),(function(t){return t.nav?"30px":""})),S=n(1),R=function(){return Object(S.jsx)(P,{height:"50px"})},E=function(t){return Object(S.jsx)(P,{nav:!0,children:t.children})},B=Object(y.a)(D)(u||(u=Object(k.a)(["\n  flex-direction: column;\n  justify-content: space-between;\n  grid-area: k;\n"]))),F=Object(y.a)(_)(l||(l=Object(k.a)(["\n  background-color: ",";\n  transform: ",";\n  color: ",";\n  justify-content: center;\n  align-items: center;\n  font-family: 'Roboto';\n  font-size: 3em;\n  width: 140px;\n  height: 140px;\n  transition: all .05s ease-in-out;\n"])),(function(t){return t.keyDown?"#667293":"#4e5874"}),(function(t){return t.keyDown?"scale(1.04)":"scale(1)"}),(function(t){return t.keyDown?"#26304F":"#7783a3"})),I=n(54),M=Object(f.createContext)(),H=function(){return Object(f.useContext)(M)},A=function(t){var e=t.children,n={startTime:Date.now(),clicks:[],avg_accuracy:[],avg_unstable_rate:[],avg_bpm:[]},i=Object(f.useState)(n),a=Object(w.a)(i,2),c=a[0],r=a[1];return Object(S.jsx)(M.Provider,{value:{graphData:c,setGraphData:r},children:e})},q=function(t){var e=H(),n=e.graphData,i=(e.setGraphData,{labels:n.clicks.map((function(t){return t.time})),datasets:[{label:"Accuracy",fill:!1,lineTension:0,borderColor:"#ff0000",data:[]},{label:"Unstable Rate",fill:!1,lineTension:0,borderColor:"#94D210",data:[]},{label:"Bpm",fill:!1,lineTension:0,borderColor:"#0FB6EB",data:n.avg_bpm}]});return Object(S.jsx)(_,{style:{gridArea:"g"},children:Object(S.jsx)(I.Line,{data:i,options:{maintainAspectRatio:!1,elements:{point:{radius:0}}}})})},G=y.a.div(d||(d=Object(k.a)(['\n  display: grid;\n  width: auto;\n  height: 100%;\n  gap: 50px;\n  margin: 0 50px 35px 50px;\n  grid-template-columns: 250px 1fr 105px;\n  grid-template-rows: 300px 300px;\n  height: 700px;\n  grid-template-areas: \n  "o g g"\n  "k c c";\n']))),W=Object(y.a)(D)(b||(b=Object(k.a)(["\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n"]))),J=function t(e,n){var i=this;Object(O.a)(this,t),this.drawCanvasBackground=function(){i.ctx.fillStyle="#26304F",i.ctx.fillRect(0,0,i.canvas.width,i.canvas.height)},this.updateCanvasSize=function(){i.canvas.style.width="100%",i.canvas.style.height="100%",i.canvas.width=i.canvas.offsetWidth,i.canvas.height=i.canvas.offsetHeight},this.winResizeHandle=function(){i.updateCanvasSize(),i.drawCanvasBackground()},this.canvas=e,this.ctx=n,this.winResizeHandle()},U=function(){function t(e,n){Object(O.a)(this,t),this.canvas=e,this.ctx=n}return Object(v.a)(t,[{key:"Circle",value:function(t,e,n,i,a){this.ctx.beginPath(),this.ctx.arc(t+125,e,n,0,2*Math.PI,!1),this.ctx.strokeStyle=a,this.ctx.lineWidth=i,this.ctx.closePath(),this.ctx.stroke()}},{key:"Line",value:function(t,e,n,i){this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(n,i),this.ctx.closePath(),this.ctx.stroke()}},{key:"Arcs",value:function(t,e,n,i,a){this.ctx.strokeStyle="#494949",this.ctx.lineWidth=9,this.ctx.beginPath(),this.ctx.arc(e-a+1.5*i-12,n,i,1.5*Math.PI,.5*Math.PI),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t-a+1.5*i-12,n,i,.5*Math.PI,1.5*Math.PI),this.ctx.stroke()}},{key:"hitCircle",value:function(t,e,n,i,a){this.Circle(t-a,e,n,9,"#425FB0"),this.Circle(t-a,e,.85*n,12,"#494949");var c=5==i?1200:1200+(i>5?-750:600)*(i+(i>5?-5:5))/5,r=5==i?800:800+(i>5?-500:400)*(i+(i>5?-5:5))/5;if(t-a<c){var s=2*n,o=3*s,h=t-a,u=Math.round((s+(o-s)*(h<c+r&&h>0?h/(c+r):1))/2);u==s+n&&(u=0);this.Circle(t-a,e,u,5,"rgba(151, 159, 182, ".concat(1,")"))}}},{key:"slider",value:function(t,e,n,i,a,c){this.Arcs(t,e,n,i,c),this.Line(t-c+1.5*i-12,n-i,e-c+1.5*i,n-i),this.Line(t-c+1.5*i-12,n+i,e-c+1.5*i,n+i),t-c<0&&(t=c),t>e&&(t=e),this.hitCircle(t,n,i,a,c)}}]),t}(),K=Object(y.a)(_)(j||(j=Object(k.a)(["\n  grid-area: o;\n"]))),N=y.a.canvas(x||(x=Object(k.a)(["\n  border-radius: 9px;\n  grid-area: c;\n"]))),Q=function(){var t=Object(f.useRef)(null),e=!1,n=[!1,!1],i=H(),a=i.graphData,c=i.setGraphData,r=Object(f.useState)(0),s=Object(w.a)(r,2),o=s[0],h=s[1],u=Object(f.useState)(0),l=Object(w.a)(u,2),d=l[0],b=l[1],j=Object(f.useState)(0),x=Object(w.a)(j,2),p=x[0],g=x[1],k=Object(f.useState)(0),y=Object(w.a)(k,2),D=y[0],_=y[1],P=function(t,n){var i=Date.now();return"q"!=t&&"w"!=t||!e?" "==t&&n&&(console.log(e?"Stop":"Start"),(e=!e)&&c({startTime:i,clicks:[],avg_accuracy:[],avg_unstable_rate:[],avg_bpm:[]})):(!function(t,e){c((function(n){var i=[].concat(Object(m.a)(n.clicks),[{key:t,pressed:e,time:Date.now()}]),c=i.filter((function(t){return t.pressed}));if(0==c.length)return n;var r=[].concat(Object(m.a)(a.avg_bpm),[Math.round(c.length/(c[c.length-1].time-n.startTime)*6e4/4*100/100)]);return{startTime:n.startTime,clicks:i,avg_accuracy:[],avg_unstable_rate:[],avg_bpm:r}}))}(t,n),"q"==t?(n&&h((function(t){return t+1})),g(n)):(n&&b((function(t){return t+1})),_(n))),n},I=function(t){var e,i="q"==(e=t.key)?0:"w"==e?1:void 0;if("keydown"==t.type){if(n[i])return;n[i]=P(t.key.toLowerCase(),!0)}else n[i]=P(t.key.toLowerCase(),!1)};return Object(f.useEffect)((function(){for(var n=t.current,i=n.getContext("2d"),a=new J(n,i),c=new U(n,i),r=-2e3,s=n.height/2,o=[],h=function(){function t(e){Object(O.a)(this,t),this.time=e}return Object(v.a)(t,[{key:"draw",value:function(){c.hitCircle(this.time,s,90,9,r)}}]),t}(),u=function(){function t(e,n){Object(O.a)(this,t),this.time=e,this.endTime=n}return Object(v.a)(t,[{key:"draw",value:function(){c.slider(this.time,this.endTime,s,90,9,r)}}]),t}(),l=0;l<50;l++){var d=100*(l+1),b=void 0;l%15==0?(b=new u(d,100*(l+6)),l+=7):b=new h(d),o.push(b)}return setInterval((function(){e&&(a.drawCanvasBackground(),o.forEach((function(t){("HitCircle"==t.constructor.name&&t.time-r>0&&t.time-r<n.width+90||t.endTime-r>0&&t.time-r<n.width+90)&&t.draw()})),r+=2)}),2),document.addEventListener("keydown",I,!1),document.addEventListener("keyup",I,!1),window.addEventListener("resize",a.winResizeHandle),function(){document.removeEventListener("keydown",I,!1),document.removeEventListener("keyup",I,!1),window.removeEventListener("resize",a.winResizeHandle)}}),[]),Object(S.jsxs)(W,{children:[Object(S.jsx)(E,{children:Object(S.jsx)(C,{size:"35px",children:"osu! Rhythm practice"})}),Object(S.jsxs)(G,{children:[Object(S.jsx)(K,{}),Object(S.jsx)(q,{}),Object(S.jsx)(N,{ref:t}),Object(S.jsxs)(B,{children:[Object(S.jsx)(F,{id:"key1",keyDown:p,children:o}),Object(S.jsx)(F,{id:"key2",keyDown:D,children:d})]})]}),Object(S.jsx)(L,{}),Object(S.jsxs)(z,{children:[Object(S.jsx)(T,{}),Object(S.jsx)(T,{}),Object(S.jsx)(T,{}),Object(S.jsx)(T,{}),Object(S.jsx)(T,{}),Object(S.jsx)(T,{}),Object(S.jsx)(T,{}),Object(S.jsx)(T,{}),Object(S.jsx)(T,{})]}),Object(S.jsx)(R,{})]})};n(159);g.a.render(Object(S.jsx)(A,{children:Object(S.jsx)(Q,{})}),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.56a87524.chunk.js.map