{"version":3,"sources":["components/Text.jsx","components/FlexDiv.jsx","components/Container.jsx","components/Table.jsx","components/PlaybackBar.jsx","components/MarginDiv.jsx","components/Footer.jsx","components/NavDiv.jsx","components/Keys.jsx","contexts/GraphData.jsx","components/LineGraph.jsx","components/ContentContainer.jsx","components/BackgroundContainer.jsx","utils/Canvas.jsx","utils/Draw.jsx","utils/Game.jsx","utils/HitObjects.jsx","App.jsx","index.js"],"names":["Text","styled","p","props","weight","size","FlexDiv","div","Container","Table","TableRow","PlaybackBar","input","attrs","type","MarginDiv","nav","FooterDiv","height","NavDiv","children","Keys","Key","keyDown","GraphDataContext","createContext","useGraphData","useContext","GraphContextProvider","data","startTime","Date","now","clicks","avg_accuracy","avg_unstable_rate","avg_bpm","useState","graphData","setGraphData","Provider","value","LineGraph","labels","map","e","time","datasets","label","fill","lineTension","borderColor","style","gridArea","options","maintainAspectRatio","elements","point","radius","ContentContainer","BackgroundContainer","CanvasUtils","canvas","ctx","drawCanvasBackground","fillStyle","fillRect","width","updateCanvasSize","offsetWidth","offsetHeight","winResizeHandle","this","DrawUtils","posX","posY","ac_width","color","beginPath","arc","Math","PI","strokeStyle","lineWidth","closePath","stroke","posX1","posY1","posX2","posY2","moveTo","lineTo","sliderStartTime","sliderEndTime","gameTime","circleTime","AR","timeDifference","Circle","approachTime","approachFadeInTime","min","diameter","ld","ar_radius","round","startTimeDifference","endTimeDifference","Arcs","Line","hitCircle","Game","hitObjects","draw","getScore","acc","mehTime","goodTime","greatTime","bpm","hp","ar","od","keys","notelock","forEach","o","constructor","name","score","endTime","slider","console","log","hitTime","i","length","obj","r_hitTime","abs","Options","Canvas","App","canvasRef","useRef","mapInProgress","key1State","setKey1State","key2State","setKey2State","keyIsDown1","setKeyDown1","keyIsDown2","setKeyDown2","keyPress","ekey","down","gd","updatedClicks","downClicks","filter","c","pressed","updatedAvgBpm","updateData","ks","useEffect","current","getContext","push","Draw","Utils","game","gameLoop","render","window","requestAnimationFrame","keyPressHandle","id","key","toLowerCase","hit","document","addEventListener","removeEventListener","ref","Footer","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.c87132d6.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nconst Text = styled.p`\r\n    font-family: 'Roboto';\r\n    font-weight: ${props => props.weight ? props.weight : 'normal'};\r\n    font-size: ${props => props.size ? props.size : 'normal'};\r\n    color: white;\r\n`\r\n\r\nexport default Text;","import styled from 'styled-components';\r\n\r\nconst FlexDiv = styled.div`\r\n    display: flex;\r\n`\r\n\r\nexport default FlexDiv;","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\n\r\nconst Container = styled(FlexDiv)`\r\n    background-color: #26304F;\r\n    border-radius: 8px;\r\n`;\r\n\r\nexport default Container;","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\n\r\n// Scores\r\nconst Table = styled(FlexDiv)`\r\n  display: block;\r\n  flex-direction: column;\r\n  overflow: scroll;;\r\n  overflow-x: hidden;\r\n  align-items: center;\r\n  margin: 0px 50px 0px 50px;\r\n  margin-top: 35px;\r\n  min-height: 300px;\r\n  grid-area: s;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 18px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background: #425FB0;\r\n    border-radius: 9px;\r\n  }\r\n`;\r\n\r\nconst TableRow = styled(FlexDiv)`\r\n  background: #26304F;\r\n  margin: 0 10px 6px 0;\r\n  border-radius: 9px;\r\n  height: 46px;\r\n\r\n  &:hover {\r\n    background: #2c3757;\r\n    transition: all .2s ease-in-out;\r\n    transform: scale(1.004);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport { Table, TableRow };\r\n","import styled from 'styled-components';\r\n\r\n// Playback bar\r\nconst PlaybackBar = styled.input.attrs({\r\n    type: 'range',\r\n  })`\r\n    margin: 0px 50px 0px 50px;\r\n    grid-area: p;\r\n  `;\r\n\r\nexport default PlaybackBar;","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\n\r\nconst MarginDiv = styled(FlexDiv)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #192035;\r\n  width: 100%;\r\n  height: ${props => props.nav ? \"80px\" : \"50px\"};\r\n  margin-bottom: ${props => props.nav ? \"30px\" : \"\"};\r\n`;\r\n\r\nexport default MarginDiv;\r\n\r\n","import MarginDiv from './MarginDiv';\r\n\r\n\r\nconst FooterDiv = () => {\r\n    return <MarginDiv height={\"50px\"}/>\r\n}\r\n\r\nexport default FooterDiv;","import MarginDiv from './MarginDiv';\r\n\r\n\r\nconst NavDiv = (props) => {\r\n    return <MarginDiv nav>{props.children}</MarginDiv>\r\n}\r\n\r\nexport default NavDiv;\r\n\r\n","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\nimport Container from './Container';\r\n\r\n// Keys\r\nconst Keys = styled(FlexDiv)`\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  grid-area: k;\r\n`;\r\n\r\nconst Key = styled(Container)`\r\n  background-color: ${props => props.keyDown ? \"#667293\" : \"#4e5874\"};\r\n  transform: ${props => props.keyDown ? \"scale(1.04)\" : \"scale(1)\"};\r\n  color: ${props => props.keyDown ? \"#26304F\" : \"#7783a3\"};\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: 'Roboto';\r\n  font-size: 3em;\r\n  width: 140px;\r\n  height: 140px;\r\n  transition: all .05s ease-in-out;\r\n`\r\n\r\nexport { Keys, Key };","import { useContext, createContext, useState } from 'react';\r\n\r\nexport const GraphDataContext = createContext();\r\n\r\nexport const useGraphData = () => {\r\n    return useContext(GraphDataContext);\r\n}\r\n\r\nexport const GraphContextProvider = ({children}) => {\r\n\r\n    const data = {\r\n        startTime: Date.now(),\r\n        clicks: [],\r\n        avg_accuracy: [],\r\n        avg_unstable_rate: [],\r\n        avg_bpm: []\r\n    };\r\n\r\n    const [graphData, setGraphData] = useState(data);\r\n\r\n    return <GraphDataContext.Provider value={{graphData, setGraphData}}>{children}</GraphDataContext.Provider>;\r\n}","import { Line } from 'react-chartjs-2';\r\nimport Container from './Container';\r\nimport { useGraphData } from '../contexts/GraphData';\r\n\r\n\r\nconst LineGraph = (props) => {\r\n\r\n    const {graphData, setGraphData} = useGraphData();\r\n\r\n    const data = {\r\n    labels: graphData.clicks.map(e => e.time),\r\n    datasets: [\r\n    {\r\n        label: 'Accuracy',\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderColor: '#ff0000',\r\n        data: []\r\n    },\r\n    {\r\n        label: 'Unstable Rate',\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderColor: '#94D210',\r\n        data: []\r\n    },\r\n    {\r\n        label: 'Bpm',\r\n        fill: false,\r\n        lineTension: 0,\r\n        borderColor: '#0FB6EB',\r\n        data: graphData.avg_bpm\r\n    },\r\n    ],\r\n};\r\n\r\n\r\n    return (\r\n        <Container style={{gridArea:\"g\"}}>\r\n            <Line data={data} options={{maintainAspectRatio: false, elements: { point:{ radius: 0 } }}}/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default LineGraph;","import styled from 'styled-components';\r\n\r\nconst ContentContainer = styled.div`\r\n  display: grid;\r\n  width: auto;\r\n  height: 100%;\r\n  gap: 50px;\r\n  margin: 0 50px 35px 50px;\r\n  grid-template-columns: 250px 1fr 105px;\r\n  grid-template-rows: 300px 300px;\r\n  height: 700px;\r\n  grid-template-areas: \r\n  \"o g g\"\r\n  \"k c c\";\r\n`;\r\n\r\n\r\nexport default ContentContainer;","import styled from 'styled-components';\r\nimport FlexDiv from './FlexDiv';\r\n\r\n\r\nconst BackgroundContainer = styled(FlexDiv)`\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100vh;\r\n`;\r\n\r\n\r\nexport default BackgroundContainer;","class CanvasUtils {\r\n    constructor(canvas, ctx) {\r\n        this.canvas = canvas;\r\n        this.ctx = ctx;\r\n        this.winResizeHandle();\r\n    }\r\n\r\n    drawCanvasBackground = () => {\r\n        this.ctx.fillStyle = \"#26304F\";\r\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n      \r\n    updateCanvasSize = () => {\r\n        this.canvas.style.width='100%';\r\n        this.canvas.style.height='100%';\r\n        this.canvas.width  = this.canvas.offsetWidth;\r\n        this.canvas.height = this.canvas.offsetHeight;\r\n    }\r\n\r\n    winResizeHandle = () => {\r\n        this.updateCanvasSize();\r\n        this.drawCanvasBackground();\r\n    }\r\n}\r\n\r\nexport default CanvasUtils;","class DrawUtils {\r\n    constructor(canvas, ctx) {\r\n        this.canvas = canvas;\r\n        this.ctx = ctx;\r\n    }\r\n\r\n    Circle(posX, posY, radius, ac_width, color) {\r\n        // draw basic circle\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(posX+125, posY, radius, 0, 2 * Math.PI, false);\r\n        this.ctx.strokeStyle = color;\r\n        this.ctx.lineWidth = ac_width;\r\n        this.ctx.closePath();\r\n        this.ctx.stroke();\r\n    }\r\n\r\n    Line(posX1, posY1, posX2, posY2) {\r\n        // draw basic line\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(posX1, posY1);    \r\n        this.ctx.lineTo(posX2, posY2);\r\n        this.ctx.closePath();  \r\n        this.ctx.stroke();  \r\n    }\r\n\r\n    Arcs(sliderStartTime, sliderEndTime, posY, radius, gameTime) {\r\n        this.ctx.strokeStyle = \"#494949\";\r\n        this.ctx.lineWidth = 9;\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(sliderEndTime-gameTime+radius*1.5-12, posY, radius, 1.5 * Math.PI, 0.5 * Math.PI);\r\n        this.ctx.stroke();  \r\n        this.ctx.beginPath();\r\n        this.ctx.arc(sliderStartTime-gameTime+radius*1.5-12, posY, radius, 0.5 * Math.PI, 1.5 * Math.PI);\r\n        this.ctx.stroke();  \r\n    }\r\n\r\n\r\n    hitCircle(circleTime, posY, radius, AR, gameTime) {\r\n\r\n        const timeDifference = circleTime - gameTime;\r\n\r\n        // Draw main circle\r\n        this.Circle(timeDifference, posY, radius, 9, \"#425FB0\");\r\n        this.Circle(timeDifference, posY, radius * 0.85, 12, \"#494949\");\r\n\r\n        const approachTime = AR < 5 ? 1800 - 120 * AR : 1950 - 150 * AR;\r\n        const approachFadeInTime = Math.min(800, approachTime);\r\n\r\n\r\n        // Draw approach circle\r\n        if (timeDifference < approachTime) {\r\n            const diameter = radius * 2;\r\n            const ld = diameter * 3.0;\r\n            let ar_radius = Math.round((diameter + (ld - diameter) * (timeDifference < approachTime + approachFadeInTime && timeDifference > 0 ? timeDifference / (approachTime + approachFadeInTime) : 1)) / 2);\r\n            if (ar_radius == diameter+radius) ar_radius = 0;\r\n            // TODO\r\n            const alpha = 1.0\r\n            \r\n            this.Circle(timeDifference, posY, ar_radius, 5, `rgba(151, 159, 182, ${alpha})`);\r\n        }\r\n    }\r\n\r\n    slider(sliderStartTime, sliderEndTime, posY, radius, AR, gameTime) {  \r\n        const startTimeDifference = sliderStartTime-gameTime;\r\n        const endTimeDifference = sliderEndTime-gameTime;\r\n        this.Arcs(sliderStartTime, sliderEndTime, posY, radius, gameTime);\r\n        this.Line(startTimeDifference+radius*1.5-12, posY-radius, endTimeDifference+radius*1.5, posY-radius);\r\n        this.Line(startTimeDifference+radius*1.5-12, posY+radius, endTimeDifference+radius*1.5, posY+radius);\r\n        if (startTimeDifference < 0) sliderStartTime = gameTime;\r\n        if (sliderStartTime > sliderEndTime) sliderStartTime = sliderEndTime;\r\n        this.hitCircle(sliderStartTime, posY, radius, AR, gameTime);\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\nexport default DrawUtils;\r\n","import { checkMaxIfStatementsInShader } from \"pixi.js\";\r\n\r\nclass Game {\r\n    constructor(hitObjects, options, canvas, draw) {\r\n        this.draw = draw;\r\n        this.canvas = canvas;\r\n        this.startTime = false;\r\n        this.hitObjects = hitObjects;\r\n        this.bpm = options.bpm;\r\n        this.hp = options.hp;\r\n        this.ar = options.ar;\r\n        this.od = options.od;\r\n        this.keys = options.keys;\r\n        this.notelock = options.notelock;\r\n        this.mehTime = 200 - 10 * this.od;\r\n        this.goodTime = 140 - 8 * this.od;\r\n        this.greatTime = 80 - 6 * this.od;\r\n    }\r\n\r\n    render(time) {\r\n        let gameTime = time - this.startTime;\r\n        this.hitObjects.forEach(o => {\r\n            \r\n            // Object type\r\n            const type = o.constructor.name;\r\n\r\n            // TODO: optimize this\r\n            // Draw only if within canvas ( for optimization )\r\n            switch (type) {\r\n                case \"Circle\":\r\n                    if (o.time-gameTime > 0 && o.time-gameTime < this.canvas.width + 90 && !o.score) {\r\n                        this.draw.hitCircle(o.time, this.canvas.height / 2, 90, this.ar, gameTime);\r\n                    }\r\n                    break;\r\n                case \"Slider\":\r\n                    if (o.endTime-gameTime > 0 && o.time-gameTime < this.canvas.width + 90 && !o.score) {\r\n                        this.draw.slider(o.time, o.endTime, this.canvas.height / 2, 90, this.ar, gameTime);\r\n                    }\r\n                    break;\r\n            }\r\n            \r\n            // Miss\r\n            if (o.time - gameTime < -this.mehTime && !o.score) {\r\n                o.score = \"miss\";\r\n                console.log(\"miss\");\r\n            }\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    getScore = (acc) => {\r\n        // Return correct score value\r\n        switch(true) {\r\n            case acc <= this.mehTime && acc > this.goodTime:     // Meh\r\n                return \"meh\";\r\n            case acc <= this.goodTime && acc > this.greatTime:   // Good\r\n                return \"good\";\r\n            case acc <= this.greatTime:                           // Great\r\n                return \"great\";\r\n        }\r\n    }\r\n\r\n    hit(time) {\r\n        const hitTime = time - this.startTime;\r\n        \r\n        // TODO: optimize this\r\n        for (let i = 0; i < this.hitObjects.length; i++) {\r\n            let obj = this.hitObjects[i];\r\n            \r\n            // Hit time relative to the object\r\n            const r_hitTime = hitTime - obj.time;\r\n\r\n            // Absolute value of actual hit-time\r\n            if (hitTime <= obj.time + this.mehTime && hitTime >= obj.time - this.mehTime && !obj.score) {\r\n                this.hitObjects[i].score = this.getScore(Math.abs(r_hitTime))\r\n                console.log(obj.score)\r\n                break;\r\n            } else if (this.notelock) {\r\n                let prev_note = i > 0 ? this.hitObjects[i-1].time + this.mehTime : 0;\r\n                if (prev_note < hitTime) { // If click is after previous note\r\n                    // Notelock\r\n                    console.log(\"Shake\")\r\n                }     \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Game;","class Circle {\r\n    constructor(time) {\r\n      this.time = time;\r\n      this.score = null;\r\n    }\r\n}\r\n\r\n\r\nclass Slider {\r\n    constructor(time, endTime) {\r\n        this.time = time;\r\n        this.endTime = endTime;\r\n        this.score = null;\r\n    }\r\n}\r\n\r\nexport { Circle, Slider };","import React, { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport Text from './components/Text';\r\nimport Container from './components/Container';\r\nimport { Table, TableRow } from './components/Table';\r\nimport PlaybackBar from './components/PlaybackBar';\r\nimport FooterDiv from './components/Footer';\r\nimport NavDiv from './components/NavDiv';\r\nimport { Keys, Key } from './components/Keys';\r\nimport LineGraph from './components/LineGraph';\r\nimport ContentContainer from './components/ContentContainer';\r\nimport BackgroundContainer from './components/BackgroundContainer';\r\nimport { useGraphData } from './contexts/GraphData';\r\nimport CanvasUtils from './utils/Canvas';\r\nimport DrawUtils from './utils/Draw';\r\nimport Game from './utils/Game';\r\nimport { Circle, Slider } from './utils/HitObjects';\r\n\r\n\r\n// Options container\r\nconst Options = styled(Container)`\r\n  grid-area: o;\r\n`;\r\n\r\n// Canvas container\r\nconst Canvas = styled.canvas`\r\n  border-radius: 9px;\r\n  grid-area: c;\r\n`;\r\n\r\nconst App = () => {\r\n  const canvasRef = useRef(null);\r\n  let mapInProgress = false;\r\n\r\n  // Keys\r\n  const key1 = \"x\";\r\n  const key2 = \"z\";\r\n  let keyDown = [false, false];\r\n  const {graphData, setGraphData} = useGraphData();\r\n  const [key1State, setKey1State] = useState(0);\r\n  const [key2State, setKey2State] = useState(0);\r\n  const [keyIsDown1, setKeyDown1] = useState(0);\r\n  const [keyIsDown2, setKeyDown2] = useState(0);\r\n\r\n\r\n\r\n  const updateData = (ekey, down) => {\r\n    // Set data\r\n    setGraphData(gd => {\r\n      const updatedClicks = [...gd.clicks, {\"key\": ekey, \"pressed\": down, \"time\": Date.now()}];\r\n      const downClicks = updatedClicks.filter(c => c.pressed);\r\n      if (downClicks.length == 0) return(gd);\r\n      const updatedAvgBpm = [...graphData.avg_bpm, Math.round((((downClicks.length / (downClicks[downClicks.length-1].time - gd.startTime) * 60000) / 4) * 100) / 100)];\r\n\r\n      return ({\r\n        startTime: gd.startTime,\r\n        clicks: updatedClicks,\r\n        avg_accuracy: [],\r\n        avg_unstable_rate: [],\r\n        avg_bpm: updatedAvgBpm \r\n      })\r\n    })\r\n  }\r\n\r\n  const keyPress = (ekey, down, time) => {\r\n    if ((ekey == key1 || ekey == key2) && mapInProgress) {\r\n\r\n      // Update graph data\r\n      updateData(ekey, down);\r\n\r\n      if (ekey == key1) {\r\n        if (down) setKey1State(ks => ks + 1);\r\n        setKeyDown1(down)\r\n      } else {\r\n        if (down) setKey2State(ks => ks + 1);\r\n        setKeyDown2(down)\r\n      }\r\n   } else if (ekey == \" \" && down) {\r\n     // Start\r\n     console.log(!mapInProgress ? \"Start\" : \"Stop\")\r\n     mapInProgress = !mapInProgress;\r\n\r\n     if (mapInProgress) {\r\n      // reset data\r\n      setGraphData({\r\n        startTime: time,\r\n        clicks: [],\r\n        avg_accuracy: [],\r\n        avg_unstable_rate: [],\r\n        avg_bpm: []\r\n      })\r\n     }\r\n   }\r\n    return down;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    // Initialize canvas\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    // create objects\r\n    // const secsBetweenEachObject = 100;\r\n     const hitObjects = [];\r\n    // for (let i = 0; i < 520; i++) {\r\n    //   const start = (i+1)*secsBetweenEachObject;\r\n    //   let ho;\r\n    //   if (i % 15 == 0) {\r\n    //      ho =  new Slider(start, (i+6)*secsBetweenEachObject);\r\n    //      i+=7\r\n    //   } else {\r\n    //     ho = new Circle(start);\r\n    //   }\r\n\r\n    //   hitObjects.push(ho);\r\n    // }\r\n\r\n    hitObjects.push(new Circle(1000))\r\n\r\n    // Options ( Use user input later )\r\n    const gameOptions = {\r\n      bpm: 180,\r\n      od: 8,\r\n      hp: 5,\r\n      ar: 9,\r\n      notelock: true,\r\n      keys: [\"z\", \"x\"]\r\n    }\r\n\r\n    const Draw = new DrawUtils(canvas, ctx);\r\n    const Utils = new CanvasUtils(canvas, ctx);\r\n    const game = new Game(hitObjects, gameOptions, canvas, Draw);\r\n    game.startTime = Date.now();\r\n\r\n\r\n    // Game Loop\r\n    (function gameLoop() { \r\n      // If in progress\r\n      if (game.startTime) {\r\n        // Clear objects\r\n        Utils.drawCanvasBackground();\r\n        game.render(Date.now());\r\n      }\r\n      window.requestAnimationFrame(gameLoop);\r\n    })();\r\n    \r\n\r\n    // Handle key press\r\n    const keyPressHandle = (e) => {\r\n      const id = e.key == key1 ? 0 : 1;\r\n      const time = Date.now();\r\n      if (e.type == \"keydown\") {\r\n        if (keyDown[id]) return;\r\n        keyDown[id] = keyPress(e.key.toLowerCase(), true, time);\r\n        game.hit(time)\r\n      } else {\r\n        keyDown[id] = keyPress(e.key.toLowerCase(), false, time);\r\n      }\r\n    };\r\n  \r\n    \r\n\r\n    // Event listeners\r\n    document.addEventListener(\"keydown\", keyPressHandle, false);\r\n    document.addEventListener(\"keyup\", keyPressHandle, false);\r\n    window.addEventListener(\"resize\", Utils.winResizeHandle);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", keyPressHandle, false);\r\n      document.removeEventListener(\"keyup\", keyPressHandle, false);\r\n      window.removeEventListener(\"resize\", Utils.winResizeHandle);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <BackgroundContainer>\r\n      <NavDiv>\r\n        <Text size={\"35px\"}>osu! Rhythm practice</Text>\r\n      </NavDiv>\r\n\r\n\r\n      <ContentContainer>\r\n        <Options />\r\n        <LineGraph />\r\n        <Canvas ref={canvasRef} />\r\n\r\n        <Keys>\r\n          <Key id=\"key1\" keyDown={keyIsDown1}>{key1State}</Key>\r\n          <Key id=\"key2\" keyDown={keyIsDown2}>{key2State}</Key>\r\n        </Keys>\r\n      </ContentContainer>\r\n\r\n      <PlaybackBar />\r\n\r\n      <Table>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n        <TableRow></TableRow>\r\n      </Table>\r\n\r\n\r\n      <FooterDiv>\r\n      </FooterDiv>\r\n    </BackgroundContainer>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { GraphContextProvider } from './contexts/GraphData';\nimport './index.css'\n\n\nReactDOM.render(\n  <GraphContextProvider>\n    <App />\n  </GraphContextProvider>,\n  \n  document.getElementById('root')\n);\n"],"sourceRoot":""}