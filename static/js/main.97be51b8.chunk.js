(this["webpackJsonposu-rhythm-practice"]=this["webpackJsonposu-rhythm-practice"]||[]).push([[0],{159:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var a,i,c,r,s,o,u,l,b,d,h,j,p,x=n(0),f=n(50),O=n.n(f),g=n(8),v=n(18),m=n(32),w=n(7),k=n(2),y=n(3),C=y.a.p(a||(a=Object(k.a)(["\n    font-family: 'Roboto';\n    font-weight: ",";\n    font-size: ",";\n    color: white;\n"])),(function(e){return e.weight?e.weight:"normal"}),(function(e){return e.size?e.size:"normal"})),D=y.a.div(i||(i=Object(k.a)(["\n    display: flex;\n"]))),_=Object(y.a)(D)(c||(c=Object(k.a)(["\n    background-color: #26304F;\n    border-radius: 8px;\n"]))),z=Object(y.a)(D)(r||(r=Object(k.a)(["\n  display: block;\n  flex-direction: column;\n  overflow: scroll;;\n  overflow-x: hidden;\n  align-items: center;\n  margin: 0px 50px 0px 50px;\n  margin-top: 35px;\n  min-height: 300px;\n  grid-area: s;\n\n  &::-webkit-scrollbar {\n    width: 18px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: #425FB0;\n    border-radius: 9px;\n  }\n"]))),R=Object(y.a)(D)(s||(s=Object(k.a)(["\n  background: #26304F;\n  margin: 0 10px 6px 0;\n  border-radius: 9px;\n  height: 46px;\n\n  &:hover {\n    background: #2c3757;\n    transition: all .2s ease-in-out;\n    transform: scale(1.004);\n    cursor: pointer;\n  }\n"]))),S=y.a.input.attrs({type:"range"})(o||(o=Object(k.a)(["\n    margin: 0px 50px 0px 50px;\n    grid-area: p;\n  "]))),B=Object(y.a)(D)(u||(u=Object(k.a)(["\n  justify-content: center;\n  align-items: center;\n  background-color: #192035;\n  width: 100%;\n  height: ",";\n  margin-bottom: ",";\n"])),(function(e){return e.nav?"80px":"50px"}),(function(e){return e.nav?"30px":""})),E=n(1),L=function(){return Object(E.jsx)(B,{height:"50px"})},F=function(e){return Object(E.jsx)(B,{nav:!0,children:e.children})},T=Object(y.a)(D)(l||(l=Object(k.a)(["\n  flex-direction: column;\n  justify-content: space-between;\n  grid-area: k;\n"]))),H=Object(y.a)(_)(b||(b=Object(k.a)(["\n  background-color: ",";\n  transform: ",";\n  color: ",";\n  justify-content: center;\n  align-items: center;\n  font-family: 'Roboto';\n  font-size: 3em;\n  width: 140px;\n  height: 140px;\n  transition: all .05s ease-in-out;\n"])),(function(e){return e.keyDown?"#667293":"#4e5874"}),(function(e){return e.keyDown?"scale(1.04)":"scale(1)"}),(function(e){return e.keyDown?"#26304F":"#7783a3"})),P=n(54),q=Object(x.createContext)(),A=function(){return Object(x.useContext)(q)},G=function(e){var t=e.children,n={startTime:Date.now(),clicks:[],avg_accuracy:[],avg_unstable_rate:[],avg_bpm:[]},a=Object(x.useState)(n),i=Object(w.a)(a,2),c=i[0],r=i[1];return Object(E.jsx)(q.Provider,{value:{graphData:c,setGraphData:r},children:t})},I=function(e){var t=A(),n=t.graphData,a=(t.setGraphData,{labels:n.clicks.map((function(e){return e.time})),datasets:[{label:"Accuracy",fill:!1,lineTension:0,borderColor:"#ff0000",data:[]},{label:"Unstable Rate",fill:!1,lineTension:0,borderColor:"#94D210",data:[]},{label:"Bpm",fill:!1,lineTension:0,borderColor:"#0FB6EB",data:n.avg_bpm}]});return Object(E.jsx)(_,{style:{gridArea:"g"},children:Object(E.jsx)(P.Line,{data:a,options:{maintainAspectRatio:!1,elements:{point:{radius:0}}}})})},J=y.a.div(d||(d=Object(k.a)(['\n  display: grid;\n  width: auto;\n  height: 100%;\n  gap: 50px;\n  margin: 0 50px 35px 50px;\n  grid-template-columns: 250px 1fr 105px;\n  grid-template-rows: 300px 300px;\n  height: 700px;\n  grid-template-areas: \n  "o g g"\n  "k c c";\n']))),M=Object(y.a)(D)(h||(h=Object(k.a)(["\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n"]))),W=function e(t,n){var a=this;Object(g.a)(this,e),this.drawCanvasBackground=function(){a.ctx.fillStyle="#26304F",a.ctx.fillRect(0,0,a.canvas.width,a.canvas.height)},this.updateCanvasSize=function(){a.canvas.style.width="100%",a.canvas.style.height="100%",a.canvas.width=a.canvas.offsetWidth,a.canvas.height=a.canvas.offsetHeight},this.winResizeHandle=function(){a.updateCanvasSize(),a.drawCanvasBackground()},this.canvas=t,this.ctx=n,this.winResizeHandle()},U=function(){function e(t,n){Object(g.a)(this,e),this.canvas=t,this.ctx=n}return Object(v.a)(e,[{key:"Circle",value:function(e,t,n,a,i){this.ctx.beginPath(),this.ctx.arc(e+125,t,n,0,2*Math.PI,!1),this.ctx.strokeStyle=i,this.ctx.lineWidth=a,this.ctx.stroke(),this.ctx.closePath()}},{key:"hitCircle",value:function(e,t,n,a,i){var c=5==a?1200:1200+(a>5?-750:600)*(a+(a>5?-5:5))/5,r=5==a?800:800+(a>5?-500:400)*(a+(a>5?-5:5))/5;if(this.Circle(e-i,t,n,9,"#425FB0"),this.Circle(e-i,t,.85*n,12,"#494949"),e-i<c){var s=2*n,o=e-i,u=(s+(3*s-s)*(o<c+r&&o>0?o/(c+r):1))/2;this.Circle(e-i,t,u,5,"#979FB6")}}}]),e}(),K=Object(y.a)(_)(j||(j=Object(k.a)(["\n  grid-area: o;\n"]))),N=y.a.canvas(p||(p=Object(k.a)(["\n  border-radius: 9px;\n  grid-area: c;\n"]))),Q=function(){var e=Object(x.useRef)(null),t=!1,n=[!1,!1],a=A(),i=a.graphData,c=a.setGraphData,r=Object(x.useState)(0),s=Object(w.a)(r,2),o=s[0],u=s[1],l=Object(x.useState)(0),b=Object(w.a)(l,2),d=b[0],h=b[1],j=Object(x.useState)(0),p=Object(w.a)(j,2),f=p[0],O=p[1],k=Object(x.useState)(0),y=Object(w.a)(k,2),D=y[0],_=y[1],B=function(e,n){return"q"!=e&&"w"!=e||!t?" "==e&&n&&(console.log(t?"Stop":"Start"),(t=!t)&&c({startTime:Date.now(),clicks:[],avg_accuracy:[],avg_unstable_rate:[],avg_bpm:[]})):(!function(e,t){c((function(n){var a=[].concat(Object(m.a)(n.clicks),[{key:e,pressed:t,time:Date.now()}]),c=a.filter((function(e){return e.pressed}));if(0==c.length)return n;var r=[].concat(Object(m.a)(i.avg_bpm),[Math.round(c.length/(c[c.length-1].time-n.startTime)*6e4/4*100/100)]);return{startTime:n.startTime,clicks:a,avg_accuracy:[],avg_unstable_rate:[],avg_bpm:r}}))}(e,n),"q"==e?(n&&u((function(e){return e+1})),O(n)):(n&&h((function(e){return e+1})),_(n))),n},P=function(e){var t,a="q"==(t=e.key)?0:"w"==t?1:void 0;if("keydown"==e.type){if(n[a])return;n[a]=B(e.key.toLowerCase(),!0)}else n[a]=B(e.key.toLowerCase(),!1)};return Object(x.useEffect)((function(){for(var n=e.current,a=n.getContext("2d"),i=new W(n,a),c=new U(n,a),r=-1e3,s=n.height/2,o=[],u=function(){function e(t){Object(g.a)(this,e),this.time=t}return Object(v.a)(e,[{key:"draw",value:function(){c.hitCircle(this.time,s,90,9,r)}}]),e}(),l=0;l<100;l++){var b=new u(100*(l+1));o.push(b)}return setInterval((function(){t&&(i.drawCanvasBackground(),o.forEach((function(e){e.time-r>0&&e.time-r<n.width+90&&e.draw()})),r+=2)}),2),document.addEventListener("keydown",P,!1),document.addEventListener("keyup",P,!1),window.addEventListener("resize",i.winResizeHandle),function(){document.removeEventListener("keydown",P,!1),document.removeEventListener("keyup",P,!1),window.removeEventListener("resize",i.winResizeHandle)}}),[]),Object(E.jsxs)(M,{children:[Object(E.jsx)(F,{children:Object(E.jsx)(C,{size:"35px",children:"osu! Rhythm practice"})}),Object(E.jsxs)(J,{children:[Object(E.jsx)(K,{}),Object(E.jsx)(I,{}),Object(E.jsx)(N,{ref:e}),Object(E.jsxs)(T,{children:[Object(E.jsx)(H,{id:"key1",keyDown:f,children:o}),Object(E.jsx)(H,{id:"key2",keyDown:D,children:d})]})]}),Object(E.jsx)(S,{}),Object(E.jsxs)(z,{children:[Object(E.jsx)(R,{}),Object(E.jsx)(R,{}),Object(E.jsx)(R,{}),Object(E.jsx)(R,{}),Object(E.jsx)(R,{}),Object(E.jsx)(R,{}),Object(E.jsx)(R,{}),Object(E.jsx)(R,{}),Object(E.jsx)(R,{})]}),Object(E.jsx)(L,{})]})};n(159);O.a.render(Object(E.jsx)(G,{children:Object(E.jsx)(Q,{})}),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.97be51b8.chunk.js.map