(this["webpackJsonposu-rhythm-practice"]=this["webpackJsonposu-rhythm-practice"]||[]).push([[0],{159:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var a,i,c,r,s,o,l,u,b,h,d,j,p,x=n(0),f=n(49),g=n.n(f),O=n(31),v=n(7),m=n(2),w=n(3),y=w.a.p(a||(a=Object(m.a)(["\n    font-family: 'Roboto';\n    font-weight: ",";\n    font-size: ",";\n    color: white;\n"])),(function(e){return e.weight?e.weight:"normal"}),(function(e){return e.size?e.size:"normal"})),k=w.a.div(i||(i=Object(m.a)(["\n    display: flex;\n"]))),C=Object(w.a)(k)(c||(c=Object(m.a)(["\n    background-color: #26304F;\n    border-radius: 8px;\n"]))),D=Object(w.a)(k)(r||(r=Object(m.a)(["\n  display: block;\n  flex-direction: column;\n  overflow: scroll;;\n  overflow-x: hidden;\n  align-items: center;\n  margin: 0px 50px 0px 50px;\n  margin-top: 35px;\n  min-height: 300px;\n  grid-area: s;\n\n  &::-webkit-scrollbar {\n    width: 18px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: #425FB0;\n    border-radius: 9px;\n  }\n"]))),_=Object(w.a)(k)(s||(s=Object(m.a)(["\n  background: #26304F;\n  margin: 0 10px 6px 0;\n  border-radius: 9px;\n  height: 46px;\n\n  &:hover {\n    background: #2c3757;\n    transition: all .2s ease-in-out;\n    transform: scale(1.004);\n    cursor: pointer;\n  }\n"]))),z=w.a.input.attrs({type:"range"})(o||(o=Object(m.a)(["\n    margin: 0px 50px 0px 50px;\n    grid-area: p;\n  "]))),R=Object(w.a)(k)(l||(l=Object(m.a)(["\n  justify-content: center;\n  align-items: center;\n  background-color: #192035;\n  width: 100%;\n  height: ",";\n  margin-bottom: ",";\n"])),(function(e){return e.nav?"80px":"50px"}),(function(e){return e.nav?"30px":""})),S=n(1),F=function(){return Object(S.jsx)(R,{height:"50px"})},E=function(e){return Object(S.jsx)(R,{nav:!0,children:e.children})},L=Object(w.a)(k)(u||(u=Object(m.a)(["\n  flex-direction: column;\n  justify-content: space-between;\n  margin-left: -35px;\n  grid-area: k;\n"]))),B=Object(w.a)(C)(b||(b=Object(m.a)(["\n  background-color: ",";\n  transform: ",";\n  color: ",";\n  justify-content: center;\n  align-items: center;\n  font-family: 'Roboto';\n  font-size: 3em;\n  width: 140px;\n  height: 140px;\n  transition: all .05s ease-in-out;\n"])),(function(e){return e.keyDown?"#667293":"#4e5874"}),(function(e){return e.keyDown?"scale(1.04)":"scale(1)"}),(function(e){return e.keyDown?"#26304F":"#7783a3"})),T=n(53),H=Object(x.createContext)(),P=function(){return Object(x.useContext)(H)},q=function(e){var t=e.children,n={startTime:Date.now(),clicks:[],avg_accuracy:[],avg_unstable_rate:[],avg_bpm:[]},a=Object(x.useState)(n),i=Object(v.a)(a,2),c=i[0],r=i[1];return Object(S.jsx)(H.Provider,{value:{graphData:c,setGraphData:r},children:t})},A=function(e){var t=P(),n=t.graphData,a=(t.setGraphData,{labels:n.clicks.map((function(e){return e.time})),datasets:[{label:"Accuracy",fill:!1,lineTension:0,borderColor:"#ff0000",data:[]},{label:"Unstable Rate",fill:!1,lineTension:0,borderColor:"#94D210",data:[]},{label:"Bpm",fill:!1,lineTension:0,borderColor:"#0FB6EB",data:n.avg_bpm}]});return Object(S.jsx)(C,{style:{gridArea:"g"},children:Object(S.jsx)(T.Line,{data:a,options:{maintainAspectRatio:!1,elements:{point:{radius:0}}}})})},G=w.a.div(h||(h=Object(m.a)(['\n  display: grid;\n  width: auto;\n  height: 100%;\n  gap: 50px;\n  margin: 0 50px 35px 50px;\n  grid-template-columns: 250px 1fr 105px;\n  grid-template-rows: 300px 300px;\n  height: 700px;\n  grid-template-areas: \n  "o g g"\n  "c c k";\n']))),I=Object(w.a)(k)(d||(d=Object(m.a)(["\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n"]))),J=n(19),M=function e(t,n){var a=this;Object(J.a)(this,e),this.drawCanvasBackground=function(){a.ctx.fillStyle="#26304F",a.ctx.fillRect(0,0,a.canvas.width,a.canvas.height)},this.updateCanvasSize=function(){a.canvas.style.width="100%",a.canvas.style.height="100%",a.canvas.width=a.canvas.offsetWidth,a.canvas.height=a.canvas.offsetHeight},this.winResizeHandle=function(){a.updateCanvasSize(),a.drawCanvasBackground()},this.canvas=t,this.ctx=n,this.winResizeHandle()},U=n(54),W=function(){function e(t,n){Object(J.a)(this,e),this.canvas=t,this.ctx=n}return Object(U.a)(e,[{key:"Circle",value:function(e,t,n,a){this.ctx.beginPath(),this.ctx.arc(e,t,n,0,2*Math.PI,!1),this.ctx.fillStyle=a,this.ctx.fill(),this.ctx.closePath()}},{key:"hitCircle",value:function(e,t,n,a){this.Circle(e,t,n*a,"#ffffff"),this.Circle(e,t,n*(a-.05),"#26304F"),this.Circle(e,t,n,"#425FB0"),this.Circle(e,t,.9*n,"#26304F"),this.Circle(e,t,.85*n,"#494949"),this.Circle(e,t,.75*n,"#26304F")}}]),e}(),K=Object(w.a)(C)(j||(j=Object(m.a)(["\n  grid-area: o;\n"]))),N=w.a.canvas(p||(p=Object(m.a)(["\n  border-radius: 9px;\n  grid-area: c;\n"]))),Q=function(){var e=Object(x.useRef)(null),t=!1,n=[!1,!1],a=P(),i=a.graphData,c=a.setGraphData,r=Object(x.useState)(0),s=Object(v.a)(r,2),o=s[0],l=s[1],u=Object(x.useState)(0),b=Object(v.a)(u,2),h=b[0],d=b[1],j=Object(x.useState)(0),p=Object(v.a)(j,2),f=p[0],g=p[1],m=Object(x.useState)(0),w=Object(v.a)(m,2),k=w[0],C=w[1],R=function(e,n){return"q"!=e&&"w"!=e||!t?" "==e&&n&&(console.log(t?"Stop":"Start"),(t=!t)&&c({startTime:Date.now(),clicks:[],avg_accuracy:[],avg_unstable_rate:[],avg_bpm:[]})):(!function(e,t){c((function(n){var a=[].concat(Object(O.a)(n.clicks),[{key:e,pressed:t,time:Date.now()}]),c=a.filter((function(e){return e.pressed}));if(0==c.length)return n;var r=[].concat(Object(O.a)(i.avg_bpm),[Math.round(c.length/(c[c.length-1].time-n.startTime)*6e4/4*100/100)]);return{startTime:n.startTime,clicks:a,avg_accuracy:[],avg_unstable_rate:[],avg_bpm:r}}))}(e,n),"q"==e?(n&&l((function(e){return e+1})),g(n)):(n&&d((function(e){return e+1})),C(n))),n},T=function(e){var t,a="q"==(t=e.key)?0:"w"==t?1:void 0;if("keydown"==e.type){if(n[a])return;n[a]=R(e.key.toLowerCase(),!0)}else n[a]=R(e.key.toLowerCase(),!1)};return Object(x.useEffect)((function(){var t=e.current,n=t.getContext("2d"),a=new M(t,n),i=new W(t,n),c=t.width/2,r=t.height/2;return i.hitCircle(c,r,90,1.5),i.hitCircle(c+100,r,90,1.5),i.hitCircle(c+200,r,90,1.5),document.addEventListener("keydown",T,!1),document.addEventListener("keyup",T,!1),window.addEventListener("resize",a.winResizeHandle),function(){document.removeEventListener("keydown",T,!1),document.removeEventListener("keyup",T,!1),window.removeEventListener("resize",a.winResizeHandle)}}),[]),Object(S.jsxs)(I,{children:[Object(S.jsx)(E,{children:Object(S.jsx)(y,{size:"35px",children:"osu! Rhythm practice"})}),Object(S.jsxs)(G,{children:[Object(S.jsx)(K,{}),Object(S.jsx)(A,{}),Object(S.jsx)(N,{ref:e}),Object(S.jsxs)(L,{children:[Object(S.jsx)(B,{id:"key1",keyDown:f,children:o}),Object(S.jsx)(B,{id:"key2",keyDown:k,children:h})]})]}),Object(S.jsx)(z,{}),Object(S.jsxs)(D,{children:[Object(S.jsx)(_,{}),Object(S.jsx)(_,{}),Object(S.jsx)(_,{}),Object(S.jsx)(_,{}),Object(S.jsx)(_,{}),Object(S.jsx)(_,{}),Object(S.jsx)(_,{}),Object(S.jsx)(_,{}),Object(S.jsx)(_,{})]}),Object(S.jsx)(F,{})]})};n(159);g.a.render(Object(S.jsx)(q,{children:Object(S.jsx)(Q,{})}),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.8d910170.chunk.js.map